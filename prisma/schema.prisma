datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

generator client {
  provider = "prisma-client-js"
}

model approved_users {
  id               Int               @id @unique @default(autoincrement())
  email            String            @unique
  first_name       String
  last_name        String
  food_allocation  food_allocation[]
  rsvp             rsvp[]
  allowed_plus_one Boolean           @default(false)
}

model rsvp {
  id              Int            @id @default(autoincrement())
  user_id         Int
  attending_day   Boolean        @default(false)
  attending_night Boolean        @default(false)
  user            approved_users @relation(fields: [user_id], references: [id])
}

model food_options {
  id              Int               @id @default(autoincrement())
  name            String            @unique
  food_allocation food_allocation[]
}

model food_allocation {
  id             Int            @id @default(autoincrement())
  user_id        Int
  food_option    food_options   @relation(fields: [food_option_id], references: [id])
  food_option_id Int
  user           approved_users @relation(fields: [user_id], references: [id])
}
